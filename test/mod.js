var mod = require('../mod');
var renderEase = require('./renderEase');
var quintOut = require('eases/quint-out');
var quadOut = require('eases/quad-out');
var testStartEnd = require('./testStartEnd');
var getSamples = require('./getSamples');
var testFuzzyArray = require('test-fuzzy-array');

var NO_OPTS = [0,0.049999999999999996,0.09999999999999999,0.15,0.19999999999999998,0.25,0.3,0.35000000000000003,0.39999999999999997,0.44999999999999996,0.5,0.5499999999999999,0.6,0.65,0.7000000000000001,0.7499999999999999,0.7999999999999999,0.85,0.8999999999999999,0.95,0,0.049999999999999906,0.09999999999999995,0.15,0.1999999999999999,0.24999999999999994,0.3,0.35000000000000003,0.4000000000000001,0.44999999999999984,0.4999999999999999,0.5499999999999999,0.6,0.65,0.7000000000000001,0.7499999999999998,0.7999999999999998,0.8499999999999999,0.8999999999999999,0.95,0,0.04999999999999977,0.09999999999999981,0.14999999999999986,0.1999999999999999,0.24999999999999994,0.3,0.34999999999999976,0.3999999999999998,0.44999999999999984,0.4999999999999999,0.5499999999999999,0.6,0.65,0.7000000000000001,0.7500000000000001,0.8000000000000002,0.8499999999999996,0.8999999999999997,0.9499999999999997,0.9999999999999998,0.04999999999999977,0.09999999999999981,0.14999999999999986,0.1999999999999999,0.24999999999999994,0.3,0.35000000000000003,0.4000000000000001,0.44999999999999957,0.4999999999999996,0.5499999999999996,0.5999999999999996,0.6499999999999997,0.6999999999999997,0.7499999999999998,0.7999999999999998,0.8499999999999999,0.8999999999999999,0.95,0,0.050000000000000044,0.09999999999999953,0.14999999999999958,0.19999999999999962,0.24999999999999967,0.2999999999999997,0.34999999999999976,0.3999999999999998,0.44999999999999984,0.4999999999999999,0.5499999999999999,0.6,0.65,0.6999999999999995,0.7499999999999996,0.7999999999999996,0.8499999999999996,0.8999999999999997,0.9499999999999997,1];
var CUSTOM_EASE = [0,0.22621906250000012,0.4095099999999998,0.5562946875000001,0.6723199999999998,0.7626953125,0.8319300000000001,0.8839709375000001,0.92224,0.9496715625,0.96875,0.9815471875,0.98976,0.9947478125,0.99757,0.9990234375,0.99968,0.9999240625,0.99999,0.9999996875,0,0.2262190624999998,0.4095099999999998,0.5562946875000001,0.6723199999999998,0.7626953125,0.8319300000000001,0.8839709375000001,0.9222400000000001,0.9496715625,0.96875,0.9815471875,0.98976,0.9947478125,0.99757,0.9990234375,0.99968,0.9999240625,0.99999,0.9999996875,0,0.22621906249999935,0.4095099999999996,0.5562946874999998,0.6723199999999998,0.7626953125,0.8319300000000001,0.8839709374999998,0.9222399999999998,0.9496715625,0.96875,0.9815471875,0.98976,0.9947478125,0.99757,0.9990234375,0.99968,0.9999240625,0.99999,0.9999996875,1,0.22621906249999935,0.4095099999999996,0.5562946874999998,0.6723199999999998,0.7626953125,0.8319300000000001,0.8839709375000001,0.9222400000000001,0.9496715624999997,0.9687499999999999,0.9815471874999999,0.98976,0.9947478125,0.99757,0.9990234375,0.99968,0.9999240625,0.99999,0.9999996875,0,0.22621906250000012,0.4095099999999985,0.556294687499999,0.6723199999999993,0.7626953124999994,0.8319299999999996,0.8839709374999998,0.9222399999999998,0.9496715625,0.96875,0.9815471875,0.98976,0.9947478125,0.99757,0.9990234375,0.99968,0.9999240625,0.99999,0.9999996875,1];
var CUSTOM_REPEAT = [0,0.02,0.04,0.06,0.08,0.1,0.12,0.14,0.16,0.18,0.2,0.22,0.24,0.26,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.52,0.54,0.56,0.58,0.6,0.62,0.64,0.66,0.68,0.7,0.72,0.74,0.76,0.78,0.8,0.82,0.84,0.86,0.88,0.9,0.92,0.94,0.96,0.98,0,0.020000000000000018,0.040000000000000036,0.06000000000000005,0.08000000000000007,0.10000000000000009,0.1200000000000001,0.1399999999999999,0.15999999999999992,0.17999999999999994,0.19999999999999996,0.21999999999999997,0.24,0.26,0.28,0.30000000000000004,0.32000000000000006,0.3400000000000001,0.3600000000000001,0.3799999999999999,0.3999999999999999,0.41999999999999993,0.43999999999999995,0.45999999999999996,0.48,0.5,0.52,0.54,0.56,0.5800000000000001,0.6000000000000001,0.6200000000000001,0.6399999999999999,0.6599999999999999,0.6799999999999999,0.7,0.72,0.74,0.76,0.78,0.8,0.8200000000000001,0.8400000000000001,0.8600000000000001,0.8799999999999999,0.8999999999999999,0.9199999999999999,0.94,0.96,0.98,1];


module.exports = function(t) {
  var noopts = mod();
  var customEase = mod({ ease: quintOut });
  var customRepeat = mod({ repeat: 2 });
  var fuzzy = testFuzzyArray(t);

  testStartEnd(t, noopts, 'noopts');
  testStartEnd(t, noopts, 'customEase');
  testStartEnd(t, noopts, 'customRepeat');

  fuzzy(getSamples(noopts, 100), NO_OPTS, 'no opts correct values');
  fuzzy(getSamples(customEase, 100), CUSTOM_EASE, 'customEase correct values');
  fuzzy(getSamples(customRepeat, 100), CUSTOM_REPEAT, 'customRepeat correct values');

  renderEase(noopts, 'mod noopts');
  renderEase(customEase, 'mod custom ease');
  renderEase(customRepeat, 'mod custom repeat');

  t.end();
};